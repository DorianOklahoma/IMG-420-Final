[gd_scene load_steps=9 format=3 uid="uid://bmllm36k80yd1"]

[ext_resource type="PackedScene" uid="uid://cogols2sgmtx0" path="res://scenes/player.tscn" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://cupi58fyq7j4m" path="res://scenes/walls_layer.tscn" id="2_sugp2"]
[ext_resource type="Script" uid="uid://c0vo3sbwqo0kt" path="res://scripts/Wrapper.cs" id="3_sugp2"]
[ext_resource type="Script" uid="uid://n6c6awxkauvr" path="res://scripts/EnemySpawner.cs" id="4_jyhfs"]
[ext_resource type="PackedScene" uid="uid://b786wkeupd5mf" path="res://scenes/Enemy.tscn" id="5_tbgi4"]
[ext_resource type="PackedScene" uid="uid://ddxh68ev6bmfh" path="res://scenes/start_menu.tscn" id="6_tefeu"]
[ext_resource type="PackedScene" uid="uid://c2py8i0lg1267" path="res://scenes/restart_menu.tscn" id="7_o6xl0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sugp2"]
size = Vector2(38, 38)

[node name="main" type="Node2D"]

[node name="WallsLayer" parent="." instance=ExtResource("2_sugp2")]

[node name="ProceduralGenerator2D" type="ProceduralGenerator2D" parent="." node_paths=PackedStringArray("tilemap_layer_node", "center_node")]
tilemap_layer_node = NodePath("../WallsLayer")
center_node = NodePath("../Player")

[node name="Wrapper" type="Node" parent="." node_paths=PackedStringArray("_generator", "_centerNode")]
script = ExtResource("3_sugp2")
_generator = NodePath("../ProceduralGenerator2D")
_centerNode = NodePath("..")

[node name="Player" parent="." node_paths=PackedStringArray("tilemap") groups=["player"] instance=ExtResource("1_0wfyh")]
tilemap = NodePath("../WallsLayer")
MaxLives = 1
RestartMenuPath = NodePath("../RestartMenu")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource("RectangleShape2D_sugp2")

[node name="EnemySpawner" type="Node2D" parent="." node_paths=PackedStringArray("Tilemap")]
script = ExtResource("4_jyhfs")
EnemyScene = ExtResource("5_tbgi4")
Tilemap = NodePath("../WallsLayer")
PlayerPath = NodePath("../Player")

[node name="StartMenu" parent="." instance=ExtResource("6_tefeu")]
GameRootPath = NodePath("..")
PlayerPath = NodePath("../Player")
EnemySpawnerPath = NodePath("../EnemySpawner")

[node name="RestartMenu" parent="." instance=ExtResource("7_o6xl0")]
PlayerPath = NodePath("../Player")
EnemySpawnerPath = NodePath("../EnemySpawner")
